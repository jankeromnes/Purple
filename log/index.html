<html>
<head>
<link rel="stylesheet" type="text/css" href="../ui/part.css" />
<link rel="stylesheet" type="text/css" href="log.css" />
<script>

/*globals window console require*/

window.purple = window.parent.purple;
console.log("iframe start "+window.location.toString());
window.onload = function() {
  console.log("iframe load "+window.location.toString());
};
</script>
<script type="text/javascript" src="../lib/requirejs/require.js"></script>

<script>
require({
  paths: {
   'crx2app': '../lib/crx2app/extension', // baseUrl of .. does not work for some reason
   'log': '../log',  
   'lib': '../lib',
   'resources': '../resources',
   'browser': '../browser'
  }
}); 

require.onError = function(err) {
  console.error(err+"", {stack: err.stack.split('\n')});
};

require(['log/eventLogViewAssembly'], function init(eventLogViewAssembly) {
    console.log("eventLogAssembly compiled");
    var thePurple = window.purple;
    eventLogViewAssembly.initialize(thePurple);
    thePurple.registerPart(eventLogViewAssembly);
});
</script>

</head>
<body>
<div id="log">
</div>
<div id="epiLog"></div>
</body>
</html>